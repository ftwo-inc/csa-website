{% extends 'base.html' %}
{% load static from staticfiles %}

{% block scoped_css %}

{% endblock scoped_css %}

{% block head_content %}
    <title>CSA - Franchise</title>
{% endblock head_content %}


{% block content %}
    <div class="global-container">
		<div class="global-container__main">
            <div class="site-header site-header--graphic bg-indigo bg-doughnuts bg-dark" data-nav-parent="" id="header-bg">
				<div class="container">
					<div class="enrollment-form">
						<div class="flex-md hero hero--graphic">
							<div class="w-md-50 pr-md-34">
                                <div class="hero hero--graphic">
                                    <div class="hero__cta">
                                        <div class="cta mt-sm-2rem">
                                            <h3>
                                                Let's
                                            </h3>
                                            <h2 class="">Grow Together</h2>
                                            <hr class="pb-6">
                                        </div>
                                    </div>
                                    <p class="font__20">Cyber Security Academy (CSA) is a brand of SkillCube. SkillCube established in 2012 is one of the pioneers in India focusing on Cyber Security Skill Development Solutions. The academy is a trusted and one-stop destination for all capacity building initiatives in the realm of Cyber Security.</p>
                                    <div class="mt-2rem franchise-img">
                                        <div class="plyr__video-embed" id="player">
                                            <iframe src="https://www.youtube.com/embed/avoKqIttO7k?autoplay=0&controls=0&disablekb=1&playsinline=1&cc_load_policy=0&cc_lang_pref=auto&widget_referrer=https%3A%2F%2Fwww.starterscfo.com%2Flearn&noCookie=false&rel=0&showinfo=0&iv_load_policy=3&modestbranding=1&enablejsapi=1&origin=https%3A%2F%2Fwww.starterscfo.com&widgetid=1"></iframe>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-md-50 pl-md-34">
                               <div class="enroll-input-box mt-2rem" id="franchise-form">
                                    <div class="pb-2">
                                        <label>Full name</label>
                                        <input type="text" name="name" placeholder="Full Name" id="full_name" required><br>
                                    </div>
                                    <div class="pb-2">
                                        <label>Email</label>
                                        <input type="email" name="email" placeholder="Email *" id="email" required>
                                        <span id="email-error" hidden style="color:red">Please enter valid email id.</span>
                                    </div>
                                    <div>
                                        <label>Mobile no.</label>
                                        <div class="flex">
                                            <select name="country_code" class="country-code" required>
                                                {% for cc in view.get_country_codes %}
                                                    <option value="{{ cc.code }}" {% if cc.code == '+91' %}selected{% endif %}>{{ cc.code }}</option>
                                                {% endfor %}
                                            </select>
                                            <input type="number" name="mobile" onKeyPress="if(this.value.length===10) return false;" min="0" placeholder="Mobile Number *" id="mobile" required>
                                        </div>
                                    </div>
                                    <div class="pb-2">
                                        <label>Location </label>
                                        <input type="text" name="location" placeholder="Location" id="location"><br>
                                    </div>
                                    <div class="pb-2">
                                        <label>Comment  </label>
                                        <input type="text" name="comment" placeholder="Comment" id="comment"><br>
                                    </div>
                                    <span style="color: red;" id="captcha_msg"></span>
                                    <div class="g-recaptcha" data-sitekey="6Lf1BsYUAAAAAHFjs7BL8zg98SxwOUfLSF0t5dG1" data-callback="verifyRecaptchaCallback" data-expired-callback="expiredRecaptchaCallback"></div>
                                    <button class="franchise-submit-btn" id="franchise_submit" onclick="franchise();">Submit</button>
                               </div>
                               <div class="enroll-submit-box mt-2rem" id="thank_you_form" hidden>
                                   <div class="pb-2" style="text-align: center;">
                                        <i class="far fa-grin-hearts fa-5x" style="color: #FCE46F;text-align: center;"></i>
                                        <h2 style="color: #007604;text-align: center;">Thank you for your interest in Franchise!</h2>
                                   </div>
                               </div>
                            </div>
						</div>
					</div>
				</div>
            </div>
            <div class="space-top-bottom bg-gray-bluish block--single-feature franchise-cards">
				<div class="container text-center">
                    <h3 class="pb-15">What we offer to Franchise?</h3>
                    <p class="mb-4 text-20">Cyber Security academy offers high-level support, assistance, advice and effective guidance to franchise pertaining to setting up and operating the academy in an efficient manner.</p>
				    <div class="features-list justify-left flex-wrap">
						<div class="feature-list-div w-md-third mb-2rem">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/setup.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Set Up</h5>
                                <p class="text-light-black">Assist in architectural aspects, furniture designing and branding of the academy to provide seamless learning experience</p>
                            </div>
						</div>
                       <div class="feature-list-div w-md-third mb-2rem">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/traning.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Training</h5>
                                <p class="text-light-black">Conduct TTT sessions & training for key staff of our franchise partners prior to franchise launch for smooth sales, marketing & operations process</p>
                            </div>
						</div>
                       <div class="feature-list-div w-md-third mb-2rem">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/special-session.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Guest Lectures</h5>
                                <p class="text-light-black">Organize guest lectures by domain experts in the industry through online sessions to help trainees understand the industry requirements</p>
                            </div>
                       </div>
                       <div class="feature-list-div w-md-third">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/course-content.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Course Content</h5>
                                <p class="text-light-black">Provide comprehensive industry recognized course material for the trainees & trainers which is refreshed periodically</p>
                            </div>
                       </div>
                       <div class="feature-list-div w-md-third mt-sm-2rem">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/operations-manual.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Operational Manual</h5>
                                <p class="text-light-black">Provide operational manual to maintain standardization, uniformity & &nbsp;&nbsp; &nbsp;&nbsp; quality control across all &nbsp;&nbsp; franchises</p>
                            </div>
                       </div>
                       <div class="feature-list-div w-md-third mt-sm-2rem">
                            <div class="pb-15 franchise-img-parent-height"><img src="{% static 'website-theme/images/img/advertisment.svg' %}" alt="svg images" class="franchise-img-height"></div>
                            <div class="feature__text">
                                <h5>Advertising</h5>
                                <p class="text-light-black">Promote the brand at local, regional & national level through digital & media promotions in order to promote the training programs</p>
                            </div>
                       </div>
					</div>
                </div>
			</div>
            <div class="space-top-bottom bg-indigo bg-dark block--single-feature">
				<div class="container">
                    <h3 class="mb-2rem text-center">Why become a CSA Franchise owner?</h3>
                    <div class="flex-md justify-between numbers">
                     <div class="py-14">
                        <div class="feature number-item">
                           <h2 class="pb-6 value sign">7500</h2>
                           <h5 class="self-center">hours of skill development</h5>
                        </div>
                     </div>
                     <div class="py-14">
                        <div class="feature number-item">
                           <h2 class="pb-6 value sign">1500</h2>
                           <h5 class="self-center">participants skilled</h5>
                        </div>
                     </div>
                     <div class="py-14">
                        <div class="feature number-item">
                           <h2 class="pb-6 value sign">900</h2>
                           <h5 class="self-center">participants up skilled</h5>
                        </div>
                     </div>
                     <div class="py-14">
                        <div class="feature number-item" style="position: relative;">
                           <h2 class="pb-6 value perc" data-speed="1500">72</h2>
                           <h5 class="self-center">fresh talent placed</h5>
                        </div>
                     </div>
                  </div>
                </div>
			</div>
            <div class="space-top-bottom bg-white block--single-feature new_partner">
				<div class="container">
                    <h3 class="mb-2rem text-center">Our ideal franchise partners </h3>
                    <ul class="text-20 flex-md flex-wrap">
                        <li class="pb-10 line-height-1-pont-5 w-md-50">
                            <div class="icon_div">
                                <div class="border_circle border_circle1">
                                    <img src="{% static 'website-theme/images/img/icon01.png' %}" alt="svg images" class="franchise-img-height">
                                </div>
                            </div>
                            <div class="icon_content">
                                <p>Professionals with technology background & first-time entrepreneur</p>
                            </div>
                        </li>
                        <li class="pb-10 line-height-1-pont-5 w-md-24">
                            <div class="icon_div">
                                <div class="border_circle border_circle2">
                                    <img src="{% static 'website-theme/images/img/icon02.png' %}" alt="svg images" class="franchise-img-height">
                                </div>
                            </div>
                            <div class="icon_content">
                                <p>Already running a IT vocational education business</p>
                            </div>
                        </li>
                        <li class="pb-10 line-height-1-pont-5 w-md-24">
                            <div class="icon_div">
                                <div class="border_circle border_circle3">
                                    <img src="{% static 'website-theme/images/img/icon04.png' %}" alt="svg images" class="franchise-img-height">
                                </div>
                            </div>
                            <div class="icon_content">
                                <p>Aspirants already working in the IT education sector</p>
                            </div>
                        </li>
                        <li class="pb-10 line-height-1-pont-5 w-md-24">
                            <div class="icon_div">
                                <div class="border_circle">
                                    <img src="{% static 'website-theme/images/img/icon05.png' %}" alt="svg images" class="franchise-img-height">
                                </div>
                            </div>
                            <div class="icon_content">
                                <p>Existing entrepreneurs looking for diversification</p>
                            </div>
                        </li>
                    </ul>
                </div>
			</div>
            <div class="space-top-bottom bg-indigo bg-dark">
                <div class="container">
                    <div class="cta">
                        <h3 class="cta__title h2 mt-0">A new opportunity for you!</h3>
                        <div class="cta__text mt-16">
                            Learn more about franchise opportunities
                        </div>
                        <div class="cta__action mt-2rem">
                            <a class="btn btn--primary btn--icon effect" href="javascript:void(0);" id="toTop"><span class="btn__text">Know Now</span> <span class="btn__icon"><svg height="42px" version="1.1" viewbox="0 0 45 42" width="45px" xmlns="http://www.w3.org/2000/svg">
                            <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                <g class="icon" transform="translate(-478.000000, -5672.000000)">
                                    <path d="M480.959902,5690.41381 C478.799483,5692.92183 480.521264,5696.88185 483.780798,5696.88185 L489.91921,5696.88185 L493.516547,5709.70404 C494.295507,5712.26641 496.289546,5714.37324 498.855831,5714.87277 C502.367456,5715.55607 505.687492,5713.42076 506.70846,5710.05863 L510.414196,5696.88185 L516.550087,5696.88185 C519.812142,5696.88185 521.533923,5692.92183 519.373504,5690.41381 C513.620791,5683.74131 509.662965,5679.07469 502.859033,5672.12783 C501.384302,5670.62406 498.949104,5670.62406 497.474373,5672.12783 C490.66792,5679.07469 486.712615,5683.74131 480.959902,5690.41381 Z" transform="translate(500.166667, 5693.000000) rotate(90.000000) translate(-500.166667, -5693.000000)"></path>
                                </g>
                            </g></svg></span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block page_level_scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
    <script src="../package/js/swiper.min.js"></script>
    <script src="{% static 'website-theme/js/website-js/franchise.js' %}"></script>
    <script src="https://cdn.plyr.io/3.5.6/plyr.js"></script>
    <script>
        const player = new Plyr('#player');
        $(window).scroll(testScroll);
			var viewed = false;

			function isScrolledIntoView(elem) {
			    var docViewTop = $(window).scrollTop();
			    var docViewBottom = docViewTop + $(window).height();

			    var elemTop = $(elem).offset().top;
			    var elemBottom = elemTop + $(elem).height();

			    return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
			}

			function testScroll() {
			  if (isScrolledIntoView($(".numbers")) && !viewed) {
			      viewed = true;
			      $('.value').each(function () {
			      $(this).prop('Counter',0).animate({
			          Counter: $(this).text()
			      }, {
			          duration: 4000,
			          easing: 'swing',
			          step: function (now) {
			              $(this).text(Math.ceil(now));
			          }
			      });
			    });
			  }
			}
    </script>
    <script>
        function validate_login_form(){
            let email_regex = new RegExp(/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/);
            let has_error = false;
            let mobile_el =  $("#mobile");
            let email_el =  $("#email");
            let full_name =  $("#full_name");
            let location_el =  $("#location");
            let comment_el =  $("#comment");
            $("#email-error").attr("hidden", "hidden");
            full_name.css({"border-color": ""});
            email_el.css({"border-color": ""});
            mobile_el.css({"border-color": ""});
            location_el.css({"border-color": ""});
            comment_el.css({"border-color": ""});
            if(!full_name.val()){
                has_error = true;
                full_name.css({"border-color": "red"});
                full_name.animateCss("shake");
            }
            else if(!email_el.val()){
                // no value
                has_error = true;
                email_el.css({"border-color": "red"});
                email_el.animateCss("shake");
            }
            else if(!email_regex.test(email_el.val())){
                // regex fail
                has_error = true;
                email_el.animateCss("shake");
                email_el.css({"border-color": "red"});
                $("#email-error").removeAttr("hidden");
            }
            else if(!mobile_el.val()){
                has_error = true;
                mobile_el.css({"border-color": "red"});
                mobile_el.animateCss("shake");
            }
            else if(!location_el.val()){
                has_error = true;
                location_el.css({"border-color": "red"});
                location_el.animateCss("shake");
            }
            else if(!comment_el.val()){
                has_error = true;
                comment_el.css({"border-color": "red"});
                comment_el.val("").animateCss("shake");
            }
            return has_error
        }

        function franchise() {
            // loading on franchise button
            

            const body = {
                "fullname": $("#full_name").val(),
                "email": $("#email").val(),
                "mobile": $("#mobile").val(),
                "location": $("#location").val(),
                "comment": $("#comment").val(),
                "csrfmiddlewaretoken": "{{ csrf_token }}"
            };
            var response = grecaptcha.getResponse();
            if(response.length == 0) 
            { 
            //reCaptcha not verified
             $('#captcha_msg').text('please verify you are human!');
             setTimeout(function(){ $("#captcha_msg").text(''); }, 2000);
             return false;
            }
            let settings = {
                url: '/franchise/',
                data: body,
                "success": function (response) {
                    if(!response.status) {
                        $("#email-error").attr("hidden", "hidden");
                        $("#franchise-error").text(response.message);
                    }
                    else{
                        try{
                            const hapikey = 'db62bb8c-1aad-4bb6-ad3a-a9498e5a43bd';
                            let url = 'https://api.hubapi.com/contacts/v1/contact/?hapikey=' + hapikey;

                            const body = {
                              "properties": [
                                {
                                  "value": $("#full_name").val(),
                                  "name": "dealname"
                                },
                                {
                                  "value": "franchise",
                                  "name": "dealstage"
                                },
                                {
                                  "value": "default",
                                  "name": "pipeline"
                                },
                                {
                                  "value": $("#email").val(),
                                  "name": "email"
                                },
                                {
                                  "value": $("#mobile").val(),
                                  "name": "mobile"
                                },
                                {
                                  "value": $("#location").val(),
                                  "name": "location"
                                },
                                {
                                  "value": $("#comment").val(),
                                  "name": "comment"
                                }
                              ]
                            };

                            let settings = {
                                url: url,
                                data: body,
                                "success": function (response) {

                                },
                                "error": function () {

                                }
                            };
                        }
                        catch(err){
                            show_notification("danger", "Something goes wrong with hubspot. Please contact to admin");
                        }
                        $("#franchise-error").text(response.message);
                        $("#full_name").val('');
                        $("#email").val('');
                        $("#mobile").val('');
                        $("#location").val('');
                        $("#comment").val('');
                        //window.location = "/franchise/"
                    }
                    $("#franchise_submit").attr("disabled", "disabled");
                    // show_notification("success", "Thank you for your interest in franchise!");
                    $("#franchise-form").attr("hidden", "hidden");
                    $("#thank_you_form").removeAttr("hidden");
                },
                "error": function () {
                    show_notification("danger", "Something goes wrong. Please contact to admin");
                }
            };
            if(!validate_login_form()) {
                $("#franchise_submit").removeAttr("disabled");
                $.post(settings)
            }
            else{
                if ($("#full_name").val() && $("#email").val() && $("#mobile")){
                    // $("#email-error").removeAttr("hidden");
                }
                else{
                    $("#email-error").attr("hidden", "hidden");
                }
            }
        }
    </script>

    <script type="text/javascript">
        $(window).scroll(function() {
            if ($(this).scrollTop()) {
                $('#toTop').fadeIn();
            } else {
                $('#toTop').fadeOut();
            }
        });

        $("#toTop").click(function () {
           $("html, body").animate({scrollTop: 0}, 1000);
        });
    </script>
   <style type="text/css">
    	.value.sign::after {
                  content: "+";

                }
	   .value.perc::after {
                  content: "%";

                }
    </style>
{% endblock page_level_scripts %}
